{% extends 'templates/_base.html' %}

{% block title %}PY-MIT kurz{% endblock %}

{% block content %}

    <!-- Course description -->
    <section class="course-city container">
        <div class="row">
            <div class="sections col-xs-12 col-sm-12 col-md-8 col-lg-8">
                {% for lesson in plan %}
                <div class="section-box" id="section{{ loop.index }}">
                    <h4 class="section-heading">
                        {% if 'date' in lesson %}
                            Lekce {{ loop.index }} - {{ lesson['name'] }}
                        {% else %}
                            {{ lesson['name'] }}
                        {% endif %}
                    </h4>
                    {% if 'description' in lesson %}
                        <p class="section-info course-city-p">
                            {{ lesson['description'] }}
                        </p>
                    {% endif %}
                    {% for mat in lesson['materials'] %}
                        {% set done = mat.get('done', lesson.get('done', False)) %}
                        {% set done_class = 'section-done' if done else 'section-todo' %}
                        <div class="section-info">
                            {% if mat['type'] == 'lesson' %}
                                    {% set icon_class = 'glyphicon-ok' %}
                            {% elif mat['type'] == 'handout' %}
                                {% set icon_class = 'glyphicon-book' %}
                            {% elif mat['type'] == 'homework' %}
                                {% set icon_class = 'glyphicon-pencil' %}
                            {% elif mat['type'] == 'link' %}
                                {% set icon_class = 'glyphicon-link' %}
                            {% else %}
                                {% set icon_class = 'glyphicon-flag' %}
                            {% endif %}
                            <span class="glyphicon {{ icon_class }} section-icon"></span>
                            {% if 'link' in mat %}
                                <a href="{{ mat['link'] }}">{{ mat['name'] }}</a>
                            {% else %}
                                {{ mat['name'] }}
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    
{% endblock content %}
